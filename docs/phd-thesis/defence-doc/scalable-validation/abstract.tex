\begin{abstract}

Validating the correctness of binary lifters is pivotal to gain trust in
binary analysis, especially when used in scenarios where correctness is
important, e.g., in security analysis, binary patching, or recompilation
to other ISAs. Existing approaches focus on validating the correctness of
lifting a single instruction and do not scale to full programs. In this
work we show that formal translation validation of single instructions for
x86-64 is practical and develop a novel technique that uses validated
instructions to scale to program level validation, thereby eliminating the
bottleneck of heavy-weight equivalence checkers at the program level. Our
work is the first to to do \tv of single instructions on an architecture as 
extensive as \ISA,
uses the most precise formal semantics available, and has the widest
coverage in terms of number of instructions tested for correctness. 
%
To scale to whole programs, our \emph{compositional lifter} composes the validated IR
sequences to create a reference standard. The semantic equivalence check between the
reference and the lifter output is then reduced to a syntactic equivalence check through
use of a normalizer --- a procedure that reduces IR sequences to a
canonical representation.
%    
Using our approach, we find \sivFail new bugs in McSema, a mature open-source
lifter from x86-64 to LLVM IR. For whole programs, our approach was able to
prove equivalence of lifted code for \plvP/\plvT functions taken
from single-source benchmark test-suite.
    
%Establishing faithfulness of binary decompilers is pivotal in gaining trust in
%the results of downstream analyses performed on the decompiled programs.
%Validating the translation of \ISA programs to the lifted IR is often
%non-scalable because of the heavy weight formal equivalence checker
%employed for the task.   We present a novel, scalable and formal technique
%and tooling infrastructure to the developers of binary decompilers to find
%bugs in translating the semantics of \ISA instruction to lifted IR.
%\todo{This line needs to change as program synthesis dos not wound
%right}The technique is based on \tv of the lifting of individual \ISA
%instructions to high-level IR  and uses those validated translations  to
%assist validation of \ISA programs without capitalizing on a heavy-weight
%equivalence checker in the pipeline.
\end{abstract}
